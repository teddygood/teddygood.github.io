"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[5239],{16012(e,s,n){n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Trouble Shooting/\ubb34\uc81c","title":"WSL2\uc5d0\uc11c do-release-upgrade \uc911 snapd.socket \uc5d0\ub7ec \ud574\uacb0","description":"\ud83e\udd14 \ubb38\uc81c","source":"@site/wiki/Trouble Shooting/\ubb34\uc81c.md","sourceDirName":"Trouble Shooting","slug":"/Trouble Shooting/\ubb34\uc81c","permalink":"/wiki/Trouble Shooting/\ubb34\uc81c","draft":false,"unlisted":false,"editUrl":"https://github.com/teddygood/teddygood.github.io/tree/main/wiki/Trouble Shooting/\ubb34\uc81c.md","tags":[],"version":"current","frontMatter":{"title":"WSL2\uc5d0\uc11c do-release-upgrade \uc911 snapd.socket \uc5d0\ub7ec \ud574\uacb0","date":"2026-02-14","draft":false},"sidebar":"sidebar","previous":{"title":"Pycharm gateway jupyter notebook \ubb38\uc81c","permalink":"/wiki/Trouble Shooting/pycharm-jupyter-error-in-ssh-environment"}}');var d=n(74848),l=n(28453);const i={title:"WSL2\uc5d0\uc11c do-release-upgrade \uc911 snapd.socket \uc5d0\ub7ec \ud574\uacb0",date:"2026-02-14",draft:!1},t=void 0,o={},c=[{value:"\ud83e\udd14 \ubb38\uc81c",id:"-\ubb38\uc81c",level:2},{value:"\ud83d\udea9 \ud574\uacb0",id:"-\ud574\uacb0",level:2},{value:"1) systemd \ud65c\uc131\ud654",id:"1-systemd-\ud65c\uc131\ud654",level:3},{value:"2) WSL \uc644\uc804 \uc7ac\uc2dc\uc791",id:"2-wsl-\uc644\uc804-\uc7ac\uc2dc\uc791",level:3},{value:"3) \uc0c1\ud0dc \ud655\uc778",id:"3-\uc0c1\ud0dc-\ud655\uc778",level:3},{value:"4) \uc5c5\uadf8\ub808\uc774\ub4dc \uc804 \uc815\ub9ac",id:"4-\uc5c5\uadf8\ub808\uc774\ub4dc-\uc804-\uc815\ub9ac",level:3},{value:"5) \ub9b4\ub9ac\uc988 \uc5c5\uadf8\ub808\uc774\ub4dc \uc2e4\ud589",id:"5-\ub9b4\ub9ac\uc988-\uc5c5\uadf8\ub808\uc774\ub4dc-\uc2e4\ud589",level:3},{value:"\u26a0\ufe0f \uc0bd\uc9c8 \ud3ec\uc778\ud2b8",id:"\ufe0f-\uc0bd\uc9c8-\ud3ec\uc778\ud2b8",level:2},{value:"\u2705 \uc694\uc57d",id:"-\uc694\uc57d",level:2},{value:"\ud83c\udf10 References",id:"-references",level:2}];function a(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.h2,{id:"-\ubb38\uc81c",children:"\ud83e\udd14 \ubb38\uc81c"}),"\n",(0,d.jsxs)(s.p,{children:["WSL2 Ubuntu\uc5d0\uc11c ",(0,d.jsx)(s.code,{children:"sudo do-release-upgrade"}),"\ub97c \uc2e4\ud589\ud588\ub294\ub370 \ucd08\ubc18\uc5d0 \ubc14\ub85c \uc911\ub2e8\ub410\ub2e4."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"error: cannot list snaps: cannot communicate with server:\nGet \"http://localhost/v2/snaps\": dial unix /run/snapd.socket: connect: no such file or directory\n...\nsubprocess.CalledProcessError: Command '['snap', 'list']' returned non-zero exit status 1.\n"})}),"\n",(0,d.jsxs)(s.p,{children:['\ucc98\uc74c\uc5d0\ub294 "WSL2\uc778\ub370 \uc65c snap\uc774 \uc548 \ub418\uc9c0?"\ub77c\uace0 \uc0dd\uac01\ud588\ub294\ub370, \uacb0\ub860\uc801\uc73c\ub85c\ub294 ',(0,d.jsx)(s.strong,{children:"WSL2 \uc790\uccb4 \ubb38\uc81c\uac00 \uc544\ub2c8\ub77c systemd\uac00 \uaebc\uc838 \uc788\uc5b4\uc11c snapd\uac00 \ubabb \ub72c \uc0c1\ud0dc"}),"\uc600\ub2e4."]}),"\n",(0,d.jsx)(s.h2,{id:"-\ud574\uacb0",children:"\ud83d\udea9 \ud574\uacb0"}),"\n",(0,d.jsx)(s.h3,{id:"1-systemd-\ud65c\uc131\ud654",children:"1) systemd \ud65c\uc131\ud654"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"/etc/wsl.conf"})," \ud30c\uc77c\uc5d0 \uc544\ub798 \ub0b4\uc6a9\uc744 \ub123\ub294\ub2e4."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-ini",children:"[boot]\nsystemd=true\n"})}),"\n",(0,d.jsx)(s.h3,{id:"2-wsl-\uc644\uc804-\uc7ac\uc2dc\uc791",children:"2) WSL \uc644\uc804 \uc7ac\uc2dc\uc791"}),"\n",(0,d.jsx)(s.p,{children:"\ub9ac\ub205\uc2a4 \uc258\uc774 \uc544\ub2c8\ub77c **Windows \ud130\ubbf8\ub110(PowerShell/cmd)**\uc5d0\uc11c \uc544\ub798 \uba85\ub839\uc744 \uc2e4\ud589\ud55c\ub2e4."}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-powershell",children:"wsl --shutdown\n"})}),"\n",(0,d.jsx)(s.p,{children:"\uadf8 \ub2e4\uc74c Ubuntu\ub97c \ub2e4\uc2dc \uc2e4\ud589\ud55c\ub2e4."}),"\n",(0,d.jsx)(s.h3,{id:"3-\uc0c1\ud0dc-\ud655\uc778",children:"3) \uc0c1\ud0dc \ud655\uc778"}),"\n",(0,d.jsx)(s.p,{children:"\uc544\ub798 \ub450 \uac00\uc9c0\uac00 \ud1b5\uacfc\ud574\uc57c \ud55c\ub2e4."}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"ps -p 1 -o comm=\nsnap list\n"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["\uccab \ubc88\uc9f8 \uba85\ub839 \uacb0\uacfc\uac00 ",(0,d.jsx)(s.code,{children:"systemd"}),"\uc5ec\uc57c \ud568"]}),"\n",(0,d.jsx)(s.li,{children:"\ub450 \ubc88\uc9f8 \uba85\ub839\uc774 \uc18c\ucf13 \uc5d0\ub7ec \uc5c6\uc774 \ubc18\ud658\ub3fc\uc57c \ud568"}),"\n"]}),"\n",(0,d.jsx)(s.h3,{id:"4-\uc5c5\uadf8\ub808\uc774\ub4dc-\uc804-\uc815\ub9ac",children:"4) \uc5c5\uadf8\ub808\uc774\ub4dc \uc804 \uc815\ub9ac"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"sudo apt update\nsudo apt full-upgrade -y\nsudo apt autoremove -y\n"})}),"\n",(0,d.jsx)(s.h3,{id:"5-\ub9b4\ub9ac\uc988-\uc5c5\uadf8\ub808\uc774\ub4dc-\uc2e4\ud589",children:"5) \ub9b4\ub9ac\uc988 \uc5c5\uadf8\ub808\uc774\ub4dc \uc2e4\ud589"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"sudo do-release-upgrade\n"})}),"\n",(0,d.jsx)(s.h2,{id:"\ufe0f-\uc0bd\uc9c8-\ud3ec\uc778\ud2b8",children:"\u26a0\ufe0f \uc0bd\uc9c8 \ud3ec\uc778\ud2b8"}),"\n",(0,d.jsxs)(s.p,{children:["\uc608\uc804 \uc774\uc288\ub97c \ubcf4\uba74 ",(0,d.jsx)(s.code,{children:"genie"}),", ",(0,d.jsx)(s.code,{children:"unshare/nsenter"}),", upgrader \ud30c\uc774\uc36c \uc784\uc2dc \ud30c\uc77c \uc218\uc815 \uac19\uc740 \uc6b0\ud68c \ubc29\ubc95\uc774 \ub9ce\uc774 \ub098\uc624\ub294\ub370,\n\uc694\uc998\uc5d0\ub294 \uc774\ub7f0 \ubc29\uc2dd\ubcf4\ub2e4 ",(0,d.jsx)(s.strong,{children:"systemd\ub97c \uc815\uc2dd\uc73c\ub85c \ucf1c\ub294 \ubc29\uc2dd\uc774 \ud6e8\uc52c \uc548\uc804"}),"\ud558\ub2e4."]}),"\n",(0,d.jsx)(s.p,{children:"\ud2b9\ud788 \uc784\uc2dc \ud574\ud0b9\uc740 \ub2e4\uc74c \ubb38\uc81c\uac00 \uc788\uc5c8\ub2e4."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"\uc138\uc158/\uc7ac\ubd80\ud305\ub9c8\ub2e4 \ub2e4\uc2dc \ud574\uc57c \ud558\ub294 \uacbd\uc6b0"}),"\n",(0,d.jsxs)(s.li,{children:["\uc5c5\uadf8\ub808\uc774\ub4dc\ub294 \uc9c0\ub098\uac00\ub3c4 \uc774\ud6c4 ",(0,d.jsx)(s.code,{children:"apt"})," \uc0c1\ud0dc\uac00 \uaf2c\uc774\ub294 \uacbd\uc6b0"]}),"\n",(0,d.jsx)(s.li,{children:"\ubc30\ud3ec\ud310\uc774 \uae68\uc84c\ub2e4\ub294 \uc0ac\ub840"}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:'\uc989, \uc9c0\uae08 \uae30\uc900\uc73c\ub85c\ub294 "\ud574\ud0b9\uc73c\ub85c \ud1b5\uacfc"\ubcf4\ub2e4 "\ud658\uacbd\uc744 \uc815\uc0c1 \uc0c1\ud0dc\ub85c \ub9de\ucd98 \ub4a4 \uc5c5\uadf8\ub808\uc774\ub4dc"\uac00 \uc815\ub2f5\uc5d0 \uac00\uae5d\ub2e4.'}),"\n",(0,d.jsx)(s.h2,{id:"-\uc694\uc57d",children:"\u2705 \uc694\uc57d"}),"\n",(0,d.jsxs)(s.p,{children:["\uc774\ubc88 \ucf00\uc774\uc2a4\ub294 ",(0,d.jsx)(s.code,{children:"do-release-upgrade"})," \ubc84\uadf8\ub77c\uae30\ubcf4\ub2e4, \uc5c5\uadf8\ub808\uc774\ub354\uac00 \ud638\ucd9c\ud55c ",(0,d.jsx)(s.code,{children:"snap list"}),"\uac00 \uc2e4\ud328\ud55c \uc0c1\ud669\uc774\uc5c8\ub2e4.\n\ud575\uc2ec\uc740 ",(0,d.jsx)(s.code,{children:"snapd.socket"}),"\uc744 \uc0b4\ub9ac\ub294 \uac83\uc774\uace0, \uadf8 \uc804\uc81c \uc870\uac74\uc774 ",(0,d.jsx)(s.code,{children:"systemd=true + wsl --shutdown"}),"\uc774\ub2e4."]}),"\n",(0,d.jsx)(s.h2,{id:"-references",children:"\ud83c\udf10 References"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/windows/wsl/systemd",children:"Use systemd to manage Linux services with WSL"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.a,{href:"https://github.com/microsoft/WSL/issues/11982",children:"[WSL1] Upgrade to Ubuntu 24.04 from 22.04 fails with missing snap. Possible to work around?"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsxs)(s.a,{href:"https://github.com/ubuntu/WSL/issues/493",children:[(0,d.jsx)(s.code,{children:"do-release-upgrade"})," when systemd is disabled."]})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.a,{href:"https://github.com/microsoft/WSL/issues/5126",children:"WSL2- Ubuntu 20.04 Snap store doesn't work due to systemd dependency"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},28453(e,s,n){n.d(s,{R:()=>i,x:()=>t});var r=n(96540);const d={},l=r.createContext(d);function i(e){const s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);