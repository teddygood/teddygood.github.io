"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[9520],{222(e){e.exports=JSON.parse('{"permalink":"/en/projects/open-source-contribution","source":"@site/i18n/en/docusaurus-plugin-content-blog-projects/open-source-contribution.md","title":"Pyodide","description":"Implemented `pyodide clean recipes` CLI and enabled WASM SIMD support for OpenBLAS.","date":"2026-02-06T16:03:05.000Z","tags":[],"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Pyodide","description":"Implemented `pyodide clean recipes` CLI and enabled WASM SIMD support for OpenBLAS.","role":"Contributor","timeline":"Ongoing","stack":[],"category":"Open Source","image":"/img/logo-pyodide.png","hide_table_of_contents":false},"unlisted":false,"nextItem":{"title":"Optiver \\"Trading at the Close\\" Competition Retrospective","permalink":"/en/projects/optiver-kaggle"}}')},17928(e,i,t){t.d(i,{A:()=>n});const n=t.p+"assets/images/simd-exploration-295211bc14d31fc3190a0680f1a74a64.png"},28453(e,i,t){t.d(i,{R:()=>l,x:()=>o});var n=t(96540);const s={},d=n.createContext(s);function l(e){const i=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(d.Provider,{value:i},e.children)}},40295(e,i,t){t.d(i,{A:()=>n});const n=t.p+"assets/images/release-0.30.9-52ac9f306304ae8c87472b9611b40f40.png"},67835(e,i,t){t.d(i,{A:()=>n});const n=t.p+"assets/images/release-0.31.0-09397d49beee7d41bd70d8efdf07800e.png"},83150(e,i,t){t.r(i),t.d(i,{assets:()=>r,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>c});var n=t(222),s=t(74848),d=t(28453);const l={title:"Pyodide",description:"Implemented `pyodide clean recipes` CLI and enabled WASM SIMD support for OpenBLAS.",role:"Contributor",timeline:"Ongoing",stack:[],category:"Open Source",image:"/img/logo-pyodide.png",hide_table_of_contents:!1},o="Pyodide",r={authorsImageUrls:[]},c=[{value:"Build System Improvements: <code>pyodide clean recipes</code>",id:"build-system-improvements-pyodide-clean-recipes",level:2},{value:"High-Performance Computing: Enabling WASM SIMD",id:"high-performance-computing-enabling-wasm-simd",level:2},{value:"Phase 1: Validation (PR #5880)",id:"phase-1-validation-pr-5880",level:3},{value:"Phase 2: Optimizing OpenBLAS (PR #5960)",id:"phase-2-optimizing-openblas-pr-5960",level:3},{value:"Impact and Recognition",id:"impact-and-recognition",level:2},{value:"Release 0.30.8",id:"release-0308",level:3},{value:"Release 0.30.9",id:"release-0309",level:3},{value:"Release 0.31.0",id:"release-0310",level:3},{value:"Summary of Contributions",id:"summary-of-contributions",level:2}];function a(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:["\n",(0,s.jsx)(i.p,{children:"Here is the story of my contributions to Pyodide, focusing on build system improvements and performance optimizations via WASM SIMD."}),"\n",(0,s.jsxs)(i.h2,{id:"build-system-improvements-pyodide-clean-recipes",children:["Build System Improvements: ",(0,s.jsx)(i.code,{children:"pyodide clean recipes"})]}),"\n",(0,s.jsx)(i.p,{children:"While working with the Pyodide build system, I noticed a friction point: there was no built-in way to clean up downloaded source files and intermediate build artifacts. Developers had to manually delete directories, which was error-prone and tedious."}),"\n",(0,s.jsxs)(i.p,{children:["Addressing this (",(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/issues/218",children:"Issue #218"}),"), I implemented a comprehensive cleanup solution in two stages:"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsxs)(i.strong,{children:["Core Logic Implementation (",(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/pull/223",children:"PR #223"}),")"]}),": I added a helper function to ",(0,s.jsx)(i.code,{children:"pyodide-build"})," that intelligently removes source layouts and build directories while preserving the ",(0,s.jsx)(i.code,{children:"dist"})," folder (where built wheels reside) by default."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsxs)(i.strong,{children:["CLI Integration (",(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/pull/254",children:"PR #254"}),")"]}),": I exposed this functionality through a new CLI command ",(0,s.jsx)(i.code,{children:"pyodide clean recipes"}),". This allowed users to clean specific packages or the entire workspace with simple flags, significantly improving the developer experience for package maintainers."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"high-performance-computing-enabling-wasm-simd",children:"High-Performance Computing: Enabling WASM SIMD"}),"\n",(0,s.jsxs)(i.p,{children:["Pyodide's performance is a critical factor for data science in the browser. Emscripten supports WebAssembly SIMD (Single Instruction, Multiple Data) to vectorize C/C++ code, but it wasn't clear if this ecosystem was ready for prime time within Pyodide. I took on the initiative to validate and enable SIMD support (",(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/issues/5855",children:"Issue #5855"}),")."]}),"\n",(0,s.jsxs)(i.h3,{id:"phase-1-validation-pr-5880",children:["Phase 1: Validation (",(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/pull/5880",children:"PR #5880"}),")"]}),"\n",(0,s.jsxs)(i.p,{children:["Before optimizing complex packages, I needed to prove that SIMD intrinsics worked correctly in the Pyodide environment. I created a new test package, ",(0,s.jsx)(i.code,{children:"test-simd"}),", which validated two critical compilation paths:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Direct usage of ",(0,s.jsx)(i.code,{children:"wasm_simd128.h"})," intrinsics."]}),"\n",(0,s.jsx)(i.li,{children:"Emscripten's implicit translation of SSE/AVX intrinsics to WASM SIMD."}),"\n"]}),"\n",(0,s.jsxs)(i.h3,{id:"phase-2-optimizing-openblas-pr-5960",children:["Phase 2: Optimizing OpenBLAS (",(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/pull/5960",children:"PR #5960"}),")"]}),"\n",(0,s.jsxs)(i.p,{children:["With validation complete, I moved to a real-world use case: ",(0,s.jsx)(i.strong,{children:"OpenBLAS"}),", the foundational library for NumPy and SciPy. I identified that the existing OpenBLAS build was not leveraging SIMD (",(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/issues/5948",children:"Issue #5948"}),")."]}),"\n",(0,s.jsxs)(i.p,{children:["I implemented a new build recipe, ",(0,s.jsx)(i.code,{children:"libopenblas-simd"}),", compiling with ",(0,s.jsx)(i.code,{children:"-msimd128"}),". To quantify the impact, I wrote a benchmarking suite (",(0,s.jsx)(i.code,{children:"test-openblas-simd"}),") comparing scalar vs. SIMD performance for key operations like Dot Product (",(0,s.jsx)(i.code,{children:"sdot"}),") and Matrix Multiplication (",(0,s.jsx)(i.code,{children:"sgemm"}),"). This work paved the way for significant performance gains in scientific computing on the web."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Pyodide 0.29 Release"}),"\n",(0,s.jsx)(i.img,{alt:"SIMD Support Exploration",src:t(17928).A+"",width:"744",height:"244"})]}),"\n",(0,s.jsx)(i.h2,{id:"impact-and-recognition",children:"Impact and Recognition"}),"\n",(0,s.jsx)(i.p,{children:"My contributions have been accepted and released in Pyodide versions 0.30.8, 0.30.9, and 0.31.0."}),"\n",(0,s.jsx)(i.h3,{id:"release-0308",children:"Release 0.30.8"}),"\n",(0,s.jsxs)(i.p,{children:["Marking my first contribution to the project.\n",(0,s.jsx)(i.img,{alt:"Release 0.30.8",src:t(87806).A+"",width:"774",height:"322"})]}),"\n",(0,s.jsx)(i.h3,{id:"release-0309",children:"Release 0.30.9"}),"\n",(0,s.jsxs)(i.p,{children:["Introduction of the ",(0,s.jsx)(i.code,{children:"pyodide clean recipes"})," CLI.\n",(0,s.jsx)(i.img,{alt:"Release 0.30.9",src:t(40295).A+"",width:"544",height:"194"})]}),"\n",(0,s.jsx)(i.h3,{id:"release-0310",children:"Release 0.31.0"}),"\n",(0,s.jsxs)(i.p,{children:["Further refactoring and improvements.\n",(0,s.jsx)(i.img,{alt:"Release 0.31.0",src:t(67835).A+"",width:"713",height:"299"})]}),"\n",(0,s.jsx)(i.h2,{id:"summary-of-contributions",children:"Summary of Contributions"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{style:{textAlign:"left"},children:"Project"}),(0,s.jsx)(i.th,{style:{textAlign:"left"},children:"Pull Request"}),(0,s.jsx)(i.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(i.th,{style:{textAlign:"left"},children:"Status"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build",children:"pyodide-build"})}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/pull/223",children:"PR #223"})}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:"Add helper function for recipe clean up"}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:"Merged"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build",children:"pyodide-build"})}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/pull/254",children:"PR #254"})}),(0,s.jsxs)(i.td,{style:{textAlign:"left"},children:["Add CLI command ",(0,s.jsx)(i.code,{children:"pyodide clean recipes"})]}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:"Merged"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide",children:"pyodide"})}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/pull/5880",children:"PR #5880"})}),(0,s.jsxs)(i.td,{style:{textAlign:"left"},children:["Add ",(0,s.jsx)(i.code,{children:"test-simd"})," package to validate WASM/SSE/AVX intrinsics"]}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:"Merged"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide",children:"pyodide"})}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/pull/5960",children:"PR #5960"})}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:"Enable SIMD for OpenBLAS (WASM)"}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:"Merged"})]})]})]})]})}function p(e={}){const{wrapper:i}={...(0,d.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},87806(e,i,t){t.d(i,{A:()=>n});const n=t.p+"assets/images/release-0.30.8-a429385da2c219a3a4164198a040ce64.png"}}]);