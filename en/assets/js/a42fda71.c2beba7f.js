"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[1313],{17928(e,i,t){t.d(i,{A:()=>n});const n=t.p+"assets/images/simd-exploration-295211bc14d31fc3190a0680f1a74a64.png"},18808(e){e.exports=JSON.parse('{"permalink":"/en/projects/pyodide","source":"@site/i18n/en/docusaurus-plugin-content-blog-projects/pyodide.md","title":"Pyodide","description":"Implemented `pyodide clean recipes` CLI and enabled WASM SIMD support for OpenBLAS.","date":"2026-02-20T15:21:19.000Z","tags":[],"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Pyodide","description":"Implemented `pyodide clean recipes` CLI and enabled WASM SIMD support for OpenBLAS.","role":"Contributor","timeline":"Ongoing","stack":["Python","WebAssembly","C++"],"category":"Open Source","image":"/img/projects/pyodide/logo-pyodide-repositioned.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"Optiver \\"Trading at the Close\\" Competition Retrospective","permalink":"/en/projects/optiver-kaggle"},"nextItem":{"title":"Serverless Code Review Assistant on AWS","permalink":"/en/projects/serverless-code-review"}}')},28453(e,i,t){t.d(i,{R:()=>l,x:()=>o});var n=t(96540);const d={},s=n.createContext(d);function l(e){const i=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),n.createElement(s.Provider,{value:i},e.children)}},40295(e,i,t){t.d(i,{A:()=>n});const n=t.p+"assets/images/release-0.30.9-52ac9f306304ae8c87472b9611b40f40.png"},67835(e,i,t){t.d(i,{A:()=>n});const n=t.p+"assets/images/release-0.31.0-09397d49beee7d41bd70d8efdf07800e.png"},68825(e,i,t){t.r(i),t.d(i,{assets:()=>r,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>a});var n=t(18808),d=t(74848),s=t(28453);const l={title:"Pyodide",description:"Implemented `pyodide clean recipes` CLI and enabled WASM SIMD support for OpenBLAS.",role:"Contributor",timeline:"Ongoing",stack:["Python","WebAssembly","C++"],category:"Open Source",image:"/img/projects/pyodide/logo-pyodide-repositioned.png",hide_table_of_contents:!1},o="Pyodide",r={authorsImageUrls:[]},a=[{value:"Build System Improvements: <code>pyodide clean recipes</code>",id:"build-system-improvements-pyodide-clean-recipes",level:2},{value:"Performance Optimization: Enabling WASM SIMD",id:"performance-optimization-enabling-wasm-simd",level:2},{value:"Phase 1: Validation (PR #5880)",id:"phase-1-validation-pr-5880",level:3},{value:"Phase 2: Optimizing OpenBLAS (PR #5960)",id:"phase-2-optimizing-openblas-pr-5960",level:3},{value:"Impact and Achievement",id:"impact-and-achievement",level:2},{value:"Pyodide",id:"pyodide",level:3},{value:"Release 0.29",id:"release-029",level:4},{value:"Pyodide-build",id:"pyodide-build",level:3},{value:"Release 0.30.8",id:"release-0308",level:4},{value:"Release 0.30.9",id:"release-0309",level:4},{value:"Release 0.31.0",id:"release-0310",level:4},{value:"Summary of Contributions",id:"summary-of-contributions",level:2}];function c(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:["\n",(0,d.jsx)(i.p,{children:"Here is the story of my contributions to Pyodide, focusing on build system improvements and performance optimizations via WASM SIMD."}),"\n",(0,d.jsxs)(i.h2,{id:"build-system-improvements-pyodide-clean-recipes",children:["Build System Improvements: ",(0,d.jsx)(i.code,{children:"pyodide clean recipes"})]}),"\n",(0,d.jsx)(i.p,{children:"While working with the Pyodide build system, I noticed a friction point: there was no built-in way to clean up downloaded source files and intermediate build artifacts. Developers had to manually delete directories, which was error-prone and tedious."}),"\n",(0,d.jsxs)(i.p,{children:["Addressing this (",(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/issues/218",children:"Issue #218"}),"), I implemented a comprehensive cleanup solution in two stages:"]}),"\n",(0,d.jsxs)(i.ol,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsxs)(i.strong,{children:["Core Logic Implementation (",(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/pull/223",children:"PR #223"}),")"]}),": I implemented cleanup logic in ",(0,d.jsx)(i.code,{children:"pyodide-build"})," to intelligently remove source layouts and build directories while preserving the ",(0,d.jsx)(i.code,{children:"dist"})," folder (where built wheels reside) by default."]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsxs)(i.strong,{children:["CLI Integration (",(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/pull/254",children:"PR #254"}),")"]}),": I provided this functionality through a new CLI command ",(0,d.jsx)(i.code,{children:"pyodide clean recipes"}),". This allowed users to clean specific packages or the entire workspace with simple flags, significantly improving the developer experience for package maintainers."]}),"\n"]}),"\n",(0,d.jsx)(i.h2,{id:"performance-optimization-enabling-wasm-simd",children:"Performance Optimization: Enabling WASM SIMD"}),"\n",(0,d.jsxs)(i.p,{children:["Pyodide's performance is a critical factor for data science in the browser. Emscripten supports WebAssembly SIMD (Single Instruction, Multiple Data) to vectorize C/C++ code, but it wasn't clear if this ecosystem was ready for prime time within Pyodide. I led the initiative to validate and enable SIMD support (",(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/issues/5855",children:"Issue #5855"}),")."]}),"\n",(0,d.jsxs)(i.h3,{id:"phase-1-validation-pr-5880",children:["Phase 1: Validation (",(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/pull/5880",children:"PR #5880"}),")"]}),"\n",(0,d.jsxs)(i.p,{children:["Before optimizing complex packages, I needed to prove that SIMD intrinsics worked correctly in the Pyodide environment. I created a new test package, ",(0,d.jsx)(i.code,{children:"test-simd"}),", which validated two critical compilation paths:"]}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:["Direct usage of ",(0,d.jsx)(i.code,{children:"wasm_simd128.h"})," intrinsics."]}),"\n",(0,d.jsx)(i.li,{children:"Emscripten's translation of SSE/AVX intrinsics to WASM SIMD."}),"\n"]}),"\n",(0,d.jsxs)(i.h3,{id:"phase-2-optimizing-openblas-pr-5960",children:["Phase 2: Optimizing OpenBLAS (",(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/pull/5960",children:"PR #5960"}),")"]}),"\n",(0,d.jsxs)(i.p,{children:["With validation complete, I moved to a real-world use case: ",(0,d.jsx)(i.strong,{children:"OpenBLAS"}),", the foundational library for NumPy and SciPy. I identified that the existing OpenBLAS build was not leveraging SIMD (",(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/issues/5948",children:"Issue #5948"}),")."]}),"\n",(0,d.jsxs)(i.p,{children:["I implemented a new build recipe, ",(0,d.jsx)(i.code,{children:"libopenblas-simd"}),", compiling with ",(0,d.jsx)(i.code,{children:"-msimd128"}),". To quantify the impact, I wrote a benchmarking suite (",(0,d.jsx)(i.code,{children:"test-openblas-simd"}),") comparing scalar vs. SIMD performance for key operations like Dot Product (",(0,d.jsx)(i.code,{children:"sdot"}),") and Matrix Multiplication (",(0,d.jsx)(i.code,{children:"sgemm"}),"). This work contributed to significant performance gains in scientific computing on the web."]}),"\n",(0,d.jsx)(i.h2,{id:"impact-and-achievement",children:"Impact and Achievement"}),"\n",(0,d.jsx)(i.h3,{id:"pyodide",children:"Pyodide"}),"\n",(0,d.jsx)(i.h4,{id:"release-029",children:"Release 0.29"}),"\n",(0,d.jsxs)(i.p,{children:["The WASM SIMD support and optimization work was contributed to the ",(0,d.jsx)(i.code,{children:"pyodide"})," main repository and included in the 0.29 release. You can also find details in the ",(0,d.jsx)(i.a,{href:"https://blog.pyodide.org/posts/0.29-release/",children:"Pyodide 0.29 Release Blog"}),"."]}),"\n",(0,d.jsx)(i.p,{children:(0,d.jsx)(i.img,{alt:"SIMD Support Exploration",src:t(17928).A+"",width:"744",height:"244"})}),"\n",(0,d.jsx)(i.h3,{id:"pyodide-build",children:"Pyodide-build"}),"\n",(0,d.jsxs)(i.p,{children:["My contributions have been accepted and released in ",(0,d.jsx)(i.code,{children:"pyodide-build"})," versions 0.30.8, 0.30.9, and 0.31.0."]}),"\n",(0,d.jsx)(i.h4,{id:"release-0308",children:"Release 0.30.8"}),"\n",(0,d.jsxs)(i.p,{children:["Marking my first contribution to the project.\n",(0,d.jsx)(i.img,{alt:"Release 0.30.8",src:t(87806).A+"",width:"774",height:"322"})]}),"\n",(0,d.jsx)(i.h4,{id:"release-0309",children:"Release 0.30.9"}),"\n",(0,d.jsxs)(i.p,{children:["Introduction of the ",(0,d.jsx)(i.code,{children:"pyodide clean recipes"})," CLI.\n",(0,d.jsx)(i.img,{alt:"Release 0.30.9",src:t(40295).A+"",width:"544",height:"194"})]}),"\n",(0,d.jsx)(i.h4,{id:"release-0310",children:"Release 0.31.0"}),"\n",(0,d.jsxs)(i.p,{children:["Further refactoring and improvements.\n",(0,d.jsx)(i.img,{alt:"Release 0.31.0",src:t(67835).A+"",width:"713",height:"299"})]}),"\n",(0,d.jsx)(i.h2,{id:"summary-of-contributions",children:"Summary of Contributions"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{style:{textAlign:"left"},children:"Project"}),(0,d.jsx)(i.th,{style:{textAlign:"left"},children:"Pull Request"}),(0,d.jsx)(i.th,{style:{textAlign:"left"},children:"Description"}),(0,d.jsx)(i.th,{style:{textAlign:"left"},children:"Status"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{style:{textAlign:"left"},children:(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build",children:"pyodide-build"})}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/pull/223",children:"PR #223"})}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:"Implement recipe cleanup logic"}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:"Merged"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{style:{textAlign:"left"},children:(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build",children:"pyodide-build"})}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide-build/pull/254",children:"PR #254"})}),(0,d.jsxs)(i.td,{style:{textAlign:"left"},children:["Add CLI command ",(0,d.jsx)(i.code,{children:"pyodide clean recipes"})]}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:"Merged"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{style:{textAlign:"left"},children:(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide",children:"pyodide"})}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/pull/5880",children:"PR #5880"})}),(0,d.jsxs)(i.td,{style:{textAlign:"left"},children:["Add ",(0,d.jsx)(i.code,{children:"test-simd"})," package to validate WASM/SSE/AVX intrinsics"]}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:"Merged"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{style:{textAlign:"left"},children:(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide",children:"pyodide"})}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:(0,d.jsx)(i.a,{href:"https://github.com/pyodide/pyodide/pull/5960",children:"PR #5960"})}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:"Enable SIMD for OpenBLAS (WASM)"}),(0,d.jsx)(i.td,{style:{textAlign:"left"},children:"Merged"})]})]})]})]})}function p(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,d.jsx)(i,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},87806(e,i,t){t.d(i,{A:()=>n});const n=t.p+"assets/images/release-0.30.8-a429385da2c219a3a4164198a040ce64.png"}}]);